      <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Y2K Dripstore</title>
<style>
:root {
  --red:#8B0000;
  --dark-green:#064420;
  --white:#fff;
  --pink:#FF69B4;
  --purple:#800080;
  --blue:#1E90FF;
  --silver:#C0C0C0;
  --brown:#8B4513;
}
html,body{margin:0;padding:0;height:100%;font-family:Arial,sans-serif;overflow-x:hidden;}
body{background:linear-gradient(270deg,var(--red),var(--dark-green));background-size:600% 600%;animation:gradientShift 3s ease infinite;color:var(--white);}
@keyframes gradientShift{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}

.wrap{width:100%;max-width:1200px;margin:0 auto;}
@media(max-width:480px){.wrap{max-width:420px;}}

header{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;padding:12px 0;}
.tab-row{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-bottom:12px;}
.tab{padding:10px 16px;border-radius:20px;font-weight:bold;color:#fff;cursor:pointer;transition:transform .2s;}
.tab:hover{transform:scale(1.05);}
.tab.mens{background:var(--red);}
.tab.women{background:var(--pink);}
.tab.girls{background:var(--purple);}
.tab.boys{background:var(--blue);}
.tab.iphones{background:var(--silver);color:#000;}
.tab.sneakers{background:var(--brown);}

.welcome{height:50vh;display:flex;align-items:center;justify-content:center;font-size:36px;font-weight:bold;text-align:center;animation:fadeInOut 7s infinite;}
@keyframes fadeInOut{0%,28%{opacity:0;}30%,100%{opacity:1;}}
.multicolor span{animation:colorCycle 6s infinite;}
@keyframes colorCycle{0%{color:red;}33%{color:green;}66%{color:blue;}100%{color:red;}}

.catalog{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;padding:12px;}
@media(min-width:700px){.catalog{grid-template-columns:repeat(3,1fr);}}
@media(min-width:1024px){.catalog{grid-template-columns:repeat(4,1fr);}}

.card{background:rgba(0,0,0,.55);border-radius:12px;overflow:hidden;}
.thumb{width:100%;aspect-ratio:1/1;object-fit:cover;}
.info{padding:10px;}
.name{font-weight:700;margin:0 0 6px;}
.price{font-weight:800;}
.ads{height:10vh;background:rgba(255,255,255,.15);display:flex;align-items:center;justify-content:center;margin:10px 0;font-weight:bold;border-radius:12px;}
footer{background:#000;color:#ccc;padding:20px;text-align:center;}
</style>
</head>
<body>

<header class="wrap">
<div class="tab-row">
<div class="tab mens">Mens Clothing</div>
<div class="tab women">Women's Clothing</div>
<div class="tab girls">Girls Clothing</div>
<div class="tab boys">Boys Clothing</div>
<div class="tab iphones">iPhones</div>
<div class="tab sneakers">Sneakers</div>
</div>
</header>

<div class="welcome wrap multicolor"><span>WELCOME TO Y2KDRIPSTORE</span></div>

<div id="homepageContent" class="wrap">
<div id="status" class="loading">Loading productsâ€¦</div>
</div>

<footer class="wrap">
<h2>About Us</h2>
<p>
Welcome to <b>Y2K Dripstore</b><br>
We sell sneakers, clothes, iPhones & laptops worldwide<br>
Delivery: 2-7 days<br>
Lay-buys on iPhones: R600/month while using<br>
Contact WhatsApp: <b>0685270789</b> | 
<a href="https://chat.whatsapp.com/HOCcS6OCWWAFfGpJr4nBQs?mode=ac_t" style="color:#0f0;">Join WhatsApp Group</a><br>
Facebook: <a href="https://www.facebook.com/profile.php?id=61559868803161" style="color:#0f0;">Y2K Drip N Couple Drip</a>
</p>
</footer>

<!-- Firebase -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-analytics.js";

const firebaseConfig = {
  apiKey: "AIzaSyCCf-NoeTqAd2ZMUxH118WTVkHfWtwybno",
  authDomain: "y2kdripstore-cf955.firebaseapp.com",
  projectId: "y2kdripstore-cf955",
  storageBucket: "y2kdripstore-cf955.firebasestorage.app",
  messagingSenderId: "463524157257",
  appId: "1:463524157257:web:d385bf676cbbb77f042c98",
  measurementId: "G-DYK3Y1Z492"
};
const app = initializeApp(firebaseConfig);
getAnalytics(app);
</script>

<!-- Google Sheet + Currency Conversion -->
<script>
const SHEET_ID='1K3RwSQVH2x60mFaNo5DCFY8jtncU2CaVOjovTtuB4dU';
const SHEET_CSV_URL=`https://docs.google.com/spreadsheets/d/${SHEET_ID}/export?format=csv`;
const FX_KEY='88d799cb628598ac17f47565';
const FX_URL=`https://v6.exchangerate-api.com/v6/${FX_KEY}/latest/ZAR`;

function guessCurrency(){
  const locale=(navigator.languages && navigator.languages[0])||navigator.language||'en-ZA';
  const region=(locale.split('-')[1]||'ZA').toUpperCase();
  const map={ZA:'ZAR',US:'USD',GB:'GBP',EU:'EUR',DE:'EUR',FR:'EUR',IT:'EUR',ES:'EUR',PT:'EUR',IE:'EUR',NL:'EUR',BE:'EUR',AT:'EUR',FI:'EUR',GR:'EUR',SK:'EUR',SI:'EUR',EE:'EUR',LV:'EUR',LT:'EUR',CY:'EUR',LU:'EUR',MT:'EUR',
  CA:'CAD',AU:'AUD',NZ:'NZD',JP:'JPY',CN:'CNY',HK:'HKD',SG:'SGD',IN:'INR',NG:'NGN',KE:'KES',TZ:'TZS',MZ:'MZN',BW:'BWP',NA:'NAD',ZM:'ZMW',ZW:'ZWL',
  AE:'AED',SA:'SAR',QA:'QAR',KW:'KWD',BH:'BHD'};
  return map[region]||'ZAR';
}

let TARGET_CCY=guessCurrency();
let rates={ZAR:1};

function parseCSV(text){
  const rows=[];let cur=[];let val='';let inQ=false;
  for(let i=0;i<text.length;i++){
    const c=text[i];const n=text[i+1];
    if(c==='"'){if(inQ && n==='"'){ val+='"'; i++; } else { inQ=!inQ; } }
    else if(c===',' && !inQ){ cur.push(val); val=''; }
    else if((c==='\n'||c==='\r') && !inQ){ if(val!==''||cur.length){ cur.push(val); rows.push(cur); cur=[]; val='';} }
    else { val+=c; }
  }
  if(val!==''||cur.length){ cur.push(val); rows.push(cur); }
  return rows;
}

function formatMoney(amount,ccy){try{return new Intl.NumberFormat(undefined,{style:'currency',currency:ccy}).format(amount);}catch(e){return amount.toFixed(2)+' '+ccy;}}

async function loadProducts(){
  try{
    const fxRes=await fetch(FX_URL);const fxJson=await fxRes.json();
    if(fxJson && fxJson.conversion_rates){ rates=fxJson.conversion_rates; }

    const res=await fetch(SHEET_CSV_URL);
    if(!res.ok) throw new Error('Sheet not reachable');
    const csv=await res.text();
    const rows=parseCSV(csv);
    const headers=rows.shift().map(h=>h.trim());
    const idx={Name:headers.indexOf('Name'),Price:headers.indexOf('Price'),Image:headers.indexOf('Image'),Sizes:headers.indexOf('Sizes'),Category:headers.indexOf('Category')};
    const allRows=rows.map(r=>({Name:r[idx.Name]?.trim()||'',Price:r[idx.Price]?.trim()||'',Image:r[idx.Image]?.trim()||'',Sizes:r[idx.Sizes]?.trim()||'',Category:(r[idx.Category]?.trim()||'').toUpperCase()})).filter(x=>x.Name && x.Image);

    const homepageContent=document.getElementById('homepageContent');
    homepageContent.innerHTML='';
    for(let i=0;i<50;i++){
      // 2 products
      let productGrid=document.createElement('div'); productGrid.className='catalog';
      for(let j=0;j<2;j++){
        let p=allRows[Math.floor(Math.random()*allRows.length)];
        let card=document.createElement('div'); card.className='card';
        let img=document.createElement('img'); img.className='thumb'; img.src=p.Image;
        let info=document.createElement('div'); info.className='info';
        let name=document.createElement('p'); name.className='name'; name.textContent=p.Name;
        let price=document.createElement('p'); price.className='price';
        let fx=rates[TARGET_CCY]||1; price.textContent=formatMoney(Number(p.Price||0)*fx,TARGET_CCY);
        info.appendChild(name); info.appendChild(price); card.appendChild(img); card.appendChild(info); productGrid.appendChild(card);
      }
      homepageContent.appendChild(productGrid);
      // ad section 10%
      let adDiv=document.createElement('div'); adDiv.className='ads'; adDiv.textContent='ADVERTISEMENT PLACEHOLDER';
      homepageContent.appendChild(adDiv);
    }
  }catch(e){console.error(e);document.getElementById('homepageContent').textContent='Error loading products';}
}

loadProducts();
</script>
</body>
  </html>
